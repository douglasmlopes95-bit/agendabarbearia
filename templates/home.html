{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section class="hero d-flex flex-column align-items-center justify-content-center text-center text-white" 
         style="min-height: 80vh; background: linear-gradient(135deg, #1f1c2c, #928dab);">
  <div class="container">
    <!-- Logo -->
    <img src="{% static 'images/logo.png' %}" 
         alt="Logo da House Barbershop" 
         class="mb-4" 
         style="max-width: 200px; height:auto;">

    <!-- Nome do sal√£o -->
    <h1 class="display-4 fw-bold mb-3">HOUSE BARBERSHOP</h1>

    <!-- Slogan -->
    <p class="lead mb-4">Sua experi√™ncia premium come√ßa aqui</p>

    <!-- Bot√µes Login / Registro / Dashboards -->
    <div class="d-flex justify-content-center gap-3 flex-wrap mb-3">
      {% if not user.is_authenticated %}
        <a href="{% url 'agenda:login_cliente' %}" class="btn btn-primary btn-lg">Login</a>
        <a href="{% url 'agenda:registro_cliente' %}" class="btn btn-outline-light btn-lg">Registrar Cliente</a>
        {# Bot√£o de registrar barbeiro removido #}
      {% else %}
        {% if user.tipo == "cliente" %} 
          <a href="{% url 'agenda:agenda_cliente' %}" class="btn btn-primary btn-lg">Minha Agenda</a>
        {% elif user.tipo == "barbeiro" %}
          <a href="{% url 'agenda:dashboard_barbeiro' %}" class="btn btn-primary btn-lg">Painel Barbeiro</a>
        {% elif user.tipo == "admin_barbearia" or user.tipo == "superadmin" %}
          <a href="{% url 'agenda:dashboard_admin' %}" class="btn btn-primary btn-lg">Painel Admin</a>
        {% endif %}

        <!-- Logout via POST -->
        <form method="post" action="{% url 'agenda:logout' %}" class="d-inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-outline-light btn-lg">Sair</button>
        </form>
      {% endif %}
    </div>

    <!-- Bot√£o Criar Barbearia (somente admins/superadmins) -->
    {% if user.is_authenticated %}
      {% if user.tipo == "admin_barbearia" or user.tipo == "superadmin" %}
        <div class="mt-2">
          <a href="{% url 'agenda:criar_barbearia' %}" class="btn btn-warning btn-lg text-dark fw-bold">Criar Barbearia</a>
        </div>
      {% endif %}
    {% endif %}
  </div>
</section>

<!-- Se√ß√£o de Barbearias Dispon√≠veis -->
<section class="py-5 bg-light">
  <div class="container">
    <h2 class="mb-4 fw-bold text-center">Escolha sua Barbearia</h2>
    {% if barbearias %}
      <div class="row g-4 justify-content-center">
        {% for barbearia in barbearias %}
          <div class="col-md-4">
            <div class="card h-100 border-0 shadow-sm text-center">
              <!-- Logo da Barbearia -->
              {% if barbearia.logo %}
                <img src="{{ barbearia.logo.url }}" alt="{{ barbearia.nome }}" 
                     class="card-img-top mx-auto mt-3" 
                     style="max-width: 150px; height:auto; object-fit:cover; border-radius:10px;">
              {% else %}
                <img src="{% static 'images/logo_placeholder.png' %}" alt="Sem logo" 
                     class="card-img-top mx-auto mt-3" 
                     style="max-width: 150px; height:auto; object-fit:cover; border-radius:10px;">
              {% endif %}

              <div class="card-body">
                <h5 class="card-title mt-2">{{ barbearia.nome }}</h5>
                <p class="card-text">{{ barbearia.descricao|default:"Barbearia de excel√™ncia" }}</p>
                <p class="mb-2"><strong>Endere√ßo:</strong> {{ barbearia.endereco|default:"N√£o informado" }}</p>
                <p class="mb-3"><strong>Telefone:</strong> {{ barbearia.telefone|default:"N√£o informado" }}</p>
                <a href="{% url 'agenda:barbearia_detail' barbearia.id %}" class="btn btn-primary">Selecionar</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-center">Nenhuma barbearia dispon√≠vel no momento.</p>
    {% endif %}
  </div>
</section>

<!-- Se√ß√£o de Informa√ß√µes -->
<section class="py-5 bg-white">
  <div class="container text-center">
    <h2 class="mb-4 fw-bold">Por que escolher a HOUSE BARBERSHOP?</h2>
    <p class="lead mb-5">Profissionais qualificados, ambiente moderno e servi√ßos de alta qualidade para voc√™ sair sempre estiloso.</p>
    
    <div class="row g-4 justify-content-center">
      <!-- Card 1 -->
      <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">‚úÇÔ∏è Cortes Exclusivos</h5>
            <p class="card-text">Estilo √∫nico para cada cliente, com aten√ß√£o a cada detalhe e tend√™ncias atuais.</p>
          </div>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">üèÜ Ambiente Premium</h5>
            <p class="card-text">Conforto, sofistica√ß√£o e tecnologia para que sua experi√™ncia seja completa.</p>
          </div>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">ü§ù Atendimento Personalizado</h5>
            <p class="card-text">Cada cliente √© √∫nico, nossa equipe garante aten√ß√£o especial e consultoria de estilo.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
